version: "3.1"

actions:
  - action_explain_something_with_llm

slots:
  user_query_continue_or_exit:
    type: text
    mappings:
      - type: from_llm
    influence_conversation: true


responses:
  # utter_explain_something:
  # - text: "Let me explain it to you: "
  #   metadata:
  #     rephrase: True
  #     rephrase_prompt: |
  #       Rephrase the response based on {{current_input}}, {{suggested_response}}, and {{history}}.
  #       As a creative, clever, and friendly TOEIC teacher, provide a clear explanation (e.g., grammar, vocabulary, sentence structure) in simple English
  #       Avoid introductory sentences, repetition from {{history}}, or unnecessary details. 
  #       Use Markdown for formatting (e.g., headers, lists, bold) and include emoji where appropriate to enhance engagement.

  #       Context / previous conversation with the user:
  #       {{history}}
  #       {{current_input}}
  #       Suggested AI Response: {{suggested_response}}
  #       Rephrased AI Response:

  utter_ask_user_query_continue_or_exit:
  - text: "Are you clear about the explanation? If you are not clear, you can ask me to explain it again. If you are clear, you can say 'exit'."